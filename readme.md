# 音频切割软件 (Mac版)

基于Electron框架开发的音频切割软件,支持波形可视化和自动切割。

## 技术栈

- Electron
- Web Audio API
- Node.js
- Canvas

## 开发阶段

### 第一阶段: 基础框架 (预计2周)

开发目标:
- 实现基本的应用框架
- 完成核心的音频处理功能
- 建立基础界面

功能列表:
1. 文件操作
   - 支持打开 M4a/mp3/MP4 格式
   - 支持拖拽文件
   - 显示文件基本信息

2. 波形显示
   - 完整音频波形图
   - 波形数据计算
   - 基本光标导航

3. 播放控制
   - 播放/暂停
   - 进度控制
   - 音量调节

验收标准:
- [ ] 能够正确打开支持的音频格式
- [ ] 准确显示音频波形
- [ ] 可以正常播放和控制音频
- [ ] 界面响应流畅,无明显卡顿

### 第二阶段: 核心功能 (预计3周)

开发目标:
- 实现音频切割核心功能
- 完善波形交互
- 建立标记系统

功能列表:
1. 标记系统
   - 手动添加起始/结束标记
   - 标记拖拽调整
   - 标记删除
   - 标记数据管理

2. 自动切割
   - 阈值设置界面
   - 留白时间设置
   - 自动检测算法
   - 批量生成标记

3. 试听功能
   - 选段播放
   - 标记区间播放
   - 播放时波形同步

验收标准:
- [ ] 手动标记操作准确,响应及时
- [ ] 自动检测算法准确率达到80%以上
- [ ] 标记可以正确保存和加载
- [ ] 试听功能正确对应标记区间

### 第三阶段: 功能完善 (预计2周)

开发目标:
- 优化用户体验
- 添加辅助功能
- 提升运行效率

功能列表:
1. 波形导航
   - 波形缩放
   - 快速定位
   - 刷新率控制

2. 高级播放
   - 循环播放
   - 跳跃播放
   - 播放速度控制

3. 批量导出
   - 文件名规则设置
   - 序号自动递增
   - 导出进度显示
   - 切割数据保存

验收标准:
- [ ] 波形缩放流畅,不影响性能
- [ ] 所有播放模式正常工作
- [ ] 批量导出准确且效率高
- [ ] 内存占用合理,无内存泄漏

## 项目依赖

- electron: ^25.0.0
- @electron/remote: ^2.0.10
- web-audio-api: ^0.2.2
- node-ffmpeg: ^0.4.7

## 开发环境

- Node.js >= 16
- npm >= 8
- MacOS >= 10.15

## 构建和运行

```bash
# 安装依赖
npm install

# 开发模式运行
npm run dev

# 构建应用
npm run build
```

## 测试规范

1. 单元测试
   - 核心算法测试
   - 文件操作测试
   - 数据处理测试

2. 功能测试
   - 界面操作测试
   - 音频处理测试
   - 导出功能测试

3. 性能测试
   - 内存占用测试
   - 大文件处理测试
   - 批量导出测试
